<!DOCTYPE html>
<html>
    <head>
        <title><%= title %></title>
        <% include ./partials/head %>
        <script type="text/javascript">
            $(document).ready(function() {
                var loginForm = $("#login_form");
                loginForm.on("submit", function(e) {
                    e.preventDefault();
                    loginForm.ajaxSubmit({
                        type: "post",
                        success: function(data) {
                            if (data.result != "success") {
                                alert("Wrong username or password");
                                return;
                            }
                            console.log("success");
                            window.location = "/";
                        },
                        error: function() {

                        }
                    });
                });
            });
        </script>
    </head>
    <body>
        <h1>CodingBlocks Online Judge - Login</h1>
        <form id="login_form" role = "form" action="/api/login" method="post" >
            <div class="form-group">
                   <label for="username">Username</label>
                  <input type="text" class="form-control" id="username" name="username" placeholder="Enter Username">
               </div>
               <div class="form-group">
                   <label for="password">Password</label>
                   <input type="password" class="form-control" id="password" name="password" placeholder="Enter Password">
               </div>
               <div class="form-group">
                   <button type="submit" class ="btn btn-primary" id="login_button" >Login</button>
               </div>
        </form>
    </body>
</html>